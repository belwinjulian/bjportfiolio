---
phase: 05-launch-deployment
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - app/layout.tsx
  - app/page.tsx
  - app/globals.css
  - components/Navigation.tsx
  - components/ProjectCard.tsx
  - components/Hero.tsx
  - components/Footer.tsx
  - components/About.tsx
  - components/Resume.tsx
  - package.json
autonomous: true

must_haves:
  truths:
    - "User can navigate entire site using only keyboard (Tab, Enter, Escape)"
    - "All interactive elements show visible focus indicators"
    - "Skip-to-content link appears on Tab and jumps to main content"
    - "All text meets WCAG 2.1 AA contrast ratio (4.5:1 minimum)"
    - "Vercel Analytics script is included in production build"
    - "Lighthouse Performance score is 90+ on local production build"
    - "Lighthouse Accessibility score is 90+ on local production build"
  artifacts:
    - path: "app/layout.tsx"
      provides: "Skip-to-content link, Analytics component, main landmark"
      contains: "Analytics"
    - path: "app/page.tsx"
      provides: "Main content landmark with id for skip link"
      contains: "id=\"main\""
    - path: "components/Navigation.tsx"
      provides: "Keyboard-accessible navigation with visible focus states"
      contains: "focus:ring"
  key_links:
    - from: "app/layout.tsx"
      to: "@vercel/analytics"
      via: "Analytics component import"
      pattern: "import.*Analytics.*@vercel/analytics"
    - from: "app/layout.tsx"
      to: "app/page.tsx"
      via: "skip-to-content link targets #main"
      pattern: "href=\"#main\""
---

<objective>
Harden accessibility (WCAG 2.1 AA), add Vercel Analytics, and verify Lighthouse scores locally before deployment.

Purpose: Ensure the portfolio meets accessibility standards and performance benchmarks before going to production. Recruiters and hiring managers may use assistive technology or keyboard-only navigation. Analytics provides post-launch visibility.
Output: Accessible, analytics-enabled portfolio passing Lighthouse 90+ locally.
</objective>

<execution_context>
@/Users/belwinjulian/.claude/get-shit-done/workflows/execute-plan.md
@/Users/belwinjulian/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-launch-deployment/05-RESEARCH.md
@app/layout.tsx
@app/page.tsx
@app/globals.css
@components/Navigation.tsx
@components/ProjectCard.tsx
@components/Hero.tsx
@components/Footer.tsx
@components/About.tsx
@components/Resume.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Accessibility Hardening (Skip Link, Focus States, ARIA, Keyboard Nav)</name>
  <files>
    app/layout.tsx
    app/page.tsx
    app/globals.css
    components/Navigation.tsx
    components/ProjectCard.tsx
    components/Hero.tsx
    components/Footer.tsx
    components/About.tsx
    components/Resume.tsx
  </files>
  <action>
    Add a skip-to-content link as the first focusable element inside the body in app/layout.tsx:
    - Add: `<a href="#main" className="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-[100] focus:px-4 focus:py-2 focus:bg-primary focus:text-primary-foreground focus:rounded-md">Skip to content</a>`
    - Place it before the ThemeProvider wrapper.

    In app/page.tsx, wrap the main content (everything after Navigation) in a `<main id="main" className="scroll-mt-20">` element so the skip link target works. Keep Navigation outside main since it's site-wide chrome.

    Audit and add visible focus indicators to ALL interactive elements across components:
    - Navigation.tsx: Add `focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-background` to all `<a>` tags (logo, desktop nav links, mobile nav links). Ensure the hamburger button already has focus styles (it has aria-label, add focus ring if missing).
    - ProjectCard.tsx: Add focus ring classes to all `<a>` tags (demo link, GitHub link, card itself if it's a link).
    - Hero.tsx: Add focus ring to any CTA buttons/links.
    - Footer.tsx: Add focus ring to all social links and email link.
    - About.tsx: Add focus ring to any interactive elements.
    - Resume.tsx: Add focus ring to the PDF download button/link.

    In globals.css, add a global focus-visible utility as a safety net:
    ```css
    :focus-visible {
      outline: 2px solid var(--color-primary);
      outline-offset: 2px;
    }
    ```

    Verify contrast ratios are sufficient for the existing color scheme:
    - background (#0a0a0a) to foreground (#ededed) = 17.4:1 (passes)
    - background (#0a0a0a) to muted (#a1a1aa) = 8.3:1 (passes)
    - background (#0a0a0a) to muted-foreground (#71717a) = 4.7:1 (passes, barely -- if used for body text consider bumping to #8a8a96)
    - card (#18181b) to card-foreground (#fafafa) = 16.2:1 (passes)
    - If any text uses muted-foreground (#71717a) at normal size, bump it to at least #8a8a8a to ensure 4.5:1 against #0a0a0a.

    Ensure all images have meaningful alt text (check Next.js Image components in ProjectCard, Hero, etc.). Decorative images should have alt="".

    Ensure proper heading hierarchy: h1 in Hero only, h2 for section titles (About, Projects, Resume, Contact), h3 for individual items within sections.
  </action>
  <verify>
    Run `npm run build` to confirm no TypeScript errors.
    Run `npm start` and manually Tab through the entire page in a browser -- every interactive element should show a visible focus ring.
    The skip-to-content link should appear when pressing Tab on page load.
  </verify>
  <done>
    Skip-to-content link is first focusable element and jumps to main content. All interactive elements (nav links, project links, social links, buttons) have visible focus:ring styles. Heading hierarchy is correct (h1 > h2 > h3). All images have meaningful alt text. WCAG 2.1 AA contrast ratios met for all text/background combinations.
  </done>
</task>

<task type="auto">
  <name>Task 2: Install Vercel Analytics and Run Local Lighthouse Audit</name>
  <files>
    package.json
    app/layout.tsx
  </files>
  <action>
    Install @vercel/analytics:
    ```bash
    npm install @vercel/analytics
    ```

    In app/layout.tsx, add the Analytics component:
    - Import: `import { Analytics } from '@vercel/analytics/next'`
    - Place `<Analytics />` inside the body, after the ThemeProvider closing tag but before the closing body tag.
    - The final body structure should be: skip-link, ThemeProvider(children), Analytics.

    After both tasks are complete, run a local Lighthouse audit:
    ```bash
    npm run build && npm start
    ```
    Then use `npx lighthouse http://localhost:3000 --output=json --output-path=./lighthouse-report.json --chrome-flags="--headless --no-sandbox"` to generate a Lighthouse report.

    Check the JSON output for:
    - Performance score >= 0.9
    - Accessibility score >= 0.9
    - Best Practices score >= 0.9
    - SEO score >= 0.9

    If any score is below 0.9, diagnose and fix the issues indicated in the report. Common fixes:
    - Performance: Ensure hero image has `priority` prop, check for large unoptimized assets
    - Accessibility: Fix any missing aria-labels, contrast issues, or missing alt text flagged
    - SEO: Ensure meta description exists (already done in layout.tsx metadata)

    Add lighthouse-report.json to .gitignore so it's not committed.
  </action>
  <verify>
    Run `npm run build` succeeds without errors.
    Verify @vercel/analytics appears in package.json dependencies.
    Verify Analytics component is rendered in layout.tsx.
    Run Lighthouse audit and confirm all four scores are 90+.
  </verify>
  <done>
    @vercel/analytics installed and Analytics component renders in production build. Lighthouse local audit shows Performance 90+, Accessibility 90+, Best Practices 90+, SEO 90+. Any flagged issues have been resolved.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` succeeds with zero errors
2. Tab through entire page -- every link, button, and interactive element shows visible focus ring
3. Skip-to-content link appears on first Tab press and jumps to main content
4. `<main id="main">` wraps all content sections
5. Analytics component present in rendered HTML (check page source for vercel analytics script)
6. Lighthouse scores: Performance 90+, Accessibility 90+, Best Practices 90+, SEO 90+
</verification>

<success_criteria>
- All interactive elements are keyboard-accessible with visible focus indicators
- Skip-to-content link works correctly
- WCAG 2.1 AA contrast ratios verified for all color combinations
- Vercel Analytics integrated and building without errors
- Lighthouse audit passes 90+ on all four categories
</success_criteria>

<output>
After completion, create `.planning/phases/05-launch-deployment/05-01-SUMMARY.md`
</output>
